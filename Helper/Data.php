<?php eval(base64_decode("LyoqICogR29NYWdlLmNvbSAqICogR29NYWdlIEZlZWQgUHJvIE0yICogKiBAY2F0ZWdvcnkgRXh0ZW5zaW9uICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxNiBHb01hZ2UuY29tIChodHRwczovL3d3dy5nb21hZ2UuY29tKSAqIEBhdXRob3IgR29NYWdlLmNvbSAqIEBsaWNlbnNlIGh0dHBzOi8vd3d3LmdvbWFnZS5jb20vbGljZW5zaW5nIFNpbmdsZSBkb21haW4gbGljZW5zZSAqIEB0ZXJtcyBvZiB1c2UgaHR0cHM6Ly93d3cuZ29tYWdlLmNvbS90ZXJtcy1vZi11c2UgKiBAdmVyc2lvbiBSZWxlYXNlOiAxLjAuMCAqIEBzaW5jZSBDbGFzcyBhdmFpbGFibGUgc2luY2UgUmVsZWFzZSAxLjAuMCAqLyBuYW1lc3BhY2UgR29NYWdlXEZlZWRcSGVscGVyOyB1c2UgTWFnZW50b1xGcmFtZXdvcmtcQXBwXEZpbGVzeXN0ZW1cRGlyZWN0b3J5TGlzdDsgY2xhc3MgRGF0YSBleHRlbmRzIFxNYWdlbnRvXEZyYW1ld29ya1xBcHBcSGVscGVyXEFic3RyYWN0SGVscGVyIHsgLyoqICogQHZhciBcTWFnZW50b1xDYXRhbG9nXE1vZGVsXFJlc291cmNlTW9kZWxcUHJvZHVjdFxBdHRyaWJ1dGVcQ29sbGVjdGlvbkZhY3RvcnkgKi8gcHJvdGVjdGVkICRfYXR0cmlidXRlQ29sbGVjdGlvbkZhY3Rvcnk7IC8qKiAqIEB2YXIgXEdvTWFnZVxGZWVkXE1vZGVsXFJlc291cmNlTW9kZWxcQXR0cmlidXRlXENvbGxlY3Rpb24gKi8gcHJvdGVjdGVkICRfZHluYW1pY0F0dHJpYnV0ZUNvbGxlY3Rpb247IC8qKiAqIEB2YXIgXE1hZ2VudG9cU3RvcmVcTW9kZWxcU3RvcmVNYW5hZ2VySW50ZXJmYWNlICovIHByb3RlY3RlZCAkX3N0b3JlTWFuYWdlcjsgLyoqICogQHZhciBcTWFnZW50b1xTdG9yZVxNb2RlbFxTeXN0ZW1cU3RvcmUgKi8gcHJvdGVjdGVkICRfc3lzdGVtU3RvcmU7IC8qKiAqIEB2YXIgXE1hZ2VudG9cRnJhbWV3b3JrXEZpbGVzeXN0ZW1cRGlyZWN0b3J5XFJlYWRJbnRlcmZhY2UgKi8gcHJvdGVjdGVkICRfZGlyZWN0b3J5OyAvKiogKiBAdmFyIFxNYWdlbnRvXEZyYW1ld29ya1xTdGRsaWJcRGF0ZVRpbWVcRGF0ZVRpbWUgKi8gcHJvdGVjdGVkICRfZGF0ZVRpbWU7IC8qKiAqIEB2YXIgXE1hZ2VudG9cRnJhbWV3b3JrXE1vZHVsZVxNb2R1bGVMaXN0SW50ZXJmYWNlICovIHByb3RlY3RlZCAkX21vZHVsZUxpc3Q7IC8qKiAqIEB2YXIgXE1hZ2VudG9cRnJhbWV3b3JrXEpzb25cSGVscGVyXERhdGEgKi8gcHJvdGVjdGVkICRfanNvbkhlbHBlcjsgLyoqICogQHZhciBcTWFnZW50b1xGcmFtZXdvcmtcRW5jcnlwdGlvblxFbmNyeXB0b3JJbnRlcmZhY2UgKi8gcHJvdGVjdGVkICRfZW5jcnlwdG9yOyAvKiogKiBAdmFyIFxHb01hZ2VcRmVlZFxNb2RlbFxNYXBwZXJcRmFjdG9yeSAqLyBwcm90ZWN0ZWQgJF9tYXBwZXJGYWN0b3J5OyAvKiogKiBAdmFyIFxNYWdlbnRvXEZyYW1ld29ya1xPYmplY3RNYW5hZ2VySW50ZXJmYWNlICovIHByb3RlY3RlZCAkX29iamVjdE1hbmFnZXI7IHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCggXE1hZ2VudG9cRnJhbWV3b3JrXEFwcFxIZWxwZXJcQ29udGV4dCAkY29udGV4dCwgXE1hZ2VudG9cQ2F0YWxvZ1xNb2RlbFxSZXNvdXJjZU1vZGVsXFByb2R1Y3RcQXR0cmlidXRlXENvbGxlY3Rpb25GYWN0b3J5ICRhdHRyaWJ1dGVDb2xsZWN0aW9uRmFjdG9yeSwgXEdvTWFnZVxGZWVkXE1vZGVsXFJlc291cmNlTW9kZWxcQXR0cmlidXRlXENvbGxlY3Rpb24gJGR5bmFtaWNBdHRyaWJ1dGVDb2xsZWN0aW9uLCBcTWFnZW50b1xGcmFtZXdvcmtcRmlsZXN5c3RlbSAkZmlsZXN5c3RlbSwgXE1hZ2VudG9cU3RvcmVcTW9kZWxcU3RvcmVNYW5hZ2VySW50ZXJmYWNlICRzdG9yZU1hbmFnZXIsIFxNYWdlbnRvXFN0b3JlXE1vZGVsXFN5c3RlbVxTdG9yZSAkc3lzdGVtU3RvcmUsIFxNYWdlbnRvXEZyYW1ld29ya1xTdGRsaWJcRGF0ZVRpbWVcRGF0ZVRpbWUgJGRhdGVUaW1lLCBcTWFnZW50b1xGcmFtZXdvcmtcTW9kdWxlXE1vZHVsZUxpc3RJbnRlcmZhY2UgJG1vZHVsZUxpc3QsIFxNYWdlbnRvXEZyYW1ld29ya1xKc29uXEhlbHBlclxEYXRhICRqc29uSGVscGVyLCBcTWFnZW50b1xGcmFtZXdvcmtcRW5jcnlwdGlvblxFbmNyeXB0b3JJbnRlcmZhY2UgJGVuY3J5cHRvciwgXEdvTWFnZVxGZWVkXE1vZGVsXE1hcHBlclxGYWN0b3J5ICRtYXBwZXJGYWN0b3J5LCBcTWFnZW50b1xGcmFtZXdvcmtcT2JqZWN0TWFuYWdlckludGVyZmFjZSAkb2JqZWN0TWFuYWdlciApIHsgcGFyZW50OjpfX2NvbnN0cnVjdCgkY29udGV4dCk7ICR0aGlzLT5fYXR0cmlidXRlQ29sbGVjdGlvbkZhY3RvcnkgPSAkYXR0cmlidXRlQ29sbGVjdGlvbkZhY3Rvcnk7ICR0aGlzLT5fZHluYW1pY0F0dHJpYnV0ZUNvbGxlY3Rpb24gPSAkZHluYW1pY0F0dHJpYnV0ZUNvbGxlY3Rpb247ICR0aGlzLT5fZGlyZWN0b3J5ID0gJGZpbGVzeXN0ZW0tPmdldERpcmVjdG9yeVJlYWQoRGlyZWN0b3J5TGlzdDo6TUVESUEpOyAkdGhpcy0+X3N0b3JlTWFuYWdlciA9ICRzdG9yZU1hbmFnZXI7ICR0aGlzLT5fc3lzdGVtU3RvcmUgPSAkc3lzdGVtU3RvcmU7ICR0aGlzLT5fZGF0ZVRpbWUgPSAkZGF0ZVRpbWU7ICR0aGlzLT5fbW9kdWxlTGlzdCA9ICRtb2R1bGVMaXN0OyAkdGhpcy0+X2pzb25IZWxwZXIgPSAkanNvbkhlbHBlcjsgJHRoaXMtPl9lbmNyeXB0b3IgPSAkZW5jcnlwdG9yOyAkdGhpcy0+X21hcHBlckZhY3RvcnkgPSAkbWFwcGVyRmFjdG9yeTsgJHRoaXMtPl9vYmplY3RNYW5hZ2VyID0gJG9iamVjdE1hbmFnZXI7IH0gcHVibGljIGZ1bmN0aW9uIGdldFByb2R1Y3RBdHRyaWJ1dGVzKCkgeyAkYXR0cmlidXRlcyA9ICR0aGlzLT5fYXR0cmlidXRlQ29sbGVjdGlvbkZhY3RvcnktPmNyZWF0ZSgpLT5hZGRWaXNpYmxlRmlsdGVyKCktPmdldEl0ZW1zKCk7ICRhdHRyaWJ1dGVzID0gYXJyYXlfbWFwKGZ1bmN0aW9uICgkYXR0cmlidXRlKSB7IHJldHVybiBbICd2YWx1ZScgPT4gJGF0dHJpYnV0ZS0+Z2V0QXR0cmlidXRlQ29kZSgpLCAnbGFiZWwnID0+ICRhdHRyaWJ1dGUtPmdldFN0b3JlTGFiZWwoKSBdOyB9LCAkYXR0cmlidXRlcyApOyBmb3JlYWNoICgkdGhpcy0+X21hcHBlckZhY3RvcnktPmdldEN1c3RvbU1hcHBlcnMoKSBhcyAkdmFsdWUgPT4gJGNsYXNzKSB7ICRhdHRyaWJ1dGVzW10gPSBbICd2YWx1ZScgPT4gJHZhbHVlLCAnbGFiZWwnID0+ICRjbGFzczo6Z2V0TGFiZWwoKSBdOyB9IHVzb3J0KCRhdHRyaWJ1dGVzLCBmdW5jdGlvbiAoJGEsICRiKSB7IHJldHVybiBzdHJjbXAoJGFbJ2xhYmVsJ10sICRiWydsYWJlbCddKTsgfSApOyByZXR1cm4gJGF0dHJpYnV0ZXM7IH0gLyoqICogQHJldHVybiBhcnJheSAqLyBwdWJsaWMgZnVuY3Rpb24gZ2V0RHluYW1pY0F0dHJpYnV0ZXMoKSB7ICRhdHRyaWJ1dGVzID0gJHRoaXMtPl9keW5hbWljQXR0cmlidXRlQ29sbGVjdGlvbi0+bG9hZCgpLT5nZXRJdGVtcygpOyAkYXR0cmlidXRlcyA9IGFycmF5X21hcChmdW5jdGlvbiAoXEdvTWFnZVxGZWVkXE1vZGVsXEF0dHJpYnV0ZSAkYXR0cmlidXRlKSB7IHJldHVybiBbICd2YWx1ZScgPT4gJGF0dHJpYnV0ZS0+Z2V0Q29kZSgpLCAnbGFiZWwnID0+ICRhdHRyaWJ1dGUtPmdldE5hbWUoKSBdOyB9LCAkYXR0cmlidXRlcyApOyB1c29ydCgkYXR0cmlidXRlcywgZnVuY3Rpb24gKCRhLCAkYikgeyByZXR1cm4gc3RyY21wKCRhWydsYWJlbCddLCAkYlsnbGFiZWwnXSk7IH0gKTsgcmV0dXJuICRhdHRyaWJ1dGVzOyB9IC8qKiAqIEBwYXJhbSBzdHJpbmcgJGZpbGVOYW1lICogQHBhcmFtIGludCAkc3RvcmVJZCAqIEByZXR1cm4gc3RyaW5nICovIHB1YmxpYyBmdW5jdGlvbiBnZXRGZWVkVXJsKCRmaWxlTmFtZSA9ICcnLCAkc3RvcmVJZCA9IDApIHsgaWYgKCRmaWxlTmFtZSAmJiAkc3RvcmVJZCkgeyAkcGF0aCA9ICR0aGlzLT5nZXRGZWVkUGF0aCgkZmlsZU5hbWUpOyBpZiAoJHBhdGgpIHsgcmV0dXJuICR0aGlzLT5fc3RvcmVNYW5hZ2VyLT5nZXRTdG9yZSgkc3RvcmVJZCktPmdldEJhc2VVcmwoIFxNYWdlbnRvXEZyYW1ld29ya1xVcmxJbnRlcmZhY2U6OlVSTF9UWVBFX01FRElBICkgLiAkcGF0aDsgfSB9IHJldHVybiAnJzsgfSAvKiogKiBAcGFyYW0gc3RyaW5nICRmaWxlTmFtZSAqIEByZXR1cm4gc3RyaW5nICovIHB1YmxpYyBmdW5jdGlvbiBnZXRGZWVkUGF0aCgkZmlsZU5hbWUsICRhYnNvbHV0ZSA9IGZhbHNlKSB7ICRwYXRoID0gXEdvTWFnZVxGZWVkXE1vZGVsXFdyaXRlclxXcml0ZXJJbnRlcmZhY2U6OkRJUkVDVE9SWSAuICcvJyAuICRmaWxlTmFtZTsgaWYgKCR0aGlzLT5fZGlyZWN0b3J5LT5pc0V4aXN0KCRwYXRoKSkgeyByZXR1cm4gJGFic29sdXRlID8gJHRoaXMtPl9kaXJlY3RvcnktPmdldEFic29sdXRlUGF0aCgkcGF0aCkgOiAkcGF0aDsgfSByZXR1cm4gJyc7IH0gLyoqICogQHBhcmFtIGludCAkaW50ZXJ2YWwgKiBAcGFyYW0gaW50ICRob3VyRnJvbSAqIEBwYXJhbSBpbnQgJGhvdXJUbyAqIEBwYXJhbSBzdHJpbmcgJGxhc3RSdW4gKiBAcmV0dXJuIGJvb2wgKi8gcHVibGljIGZ1bmN0aW9uIG5lZWRSdW5Dcm9uKCRpbnRlcnZhbCwgJGhvdXJGcm9tLCAkaG91clRvLCAkbGFzdFJ1bikgeyAkY3VycmVudCA9ICR0aGlzLT5fZGF0ZVRpbWUtPmdtdERhdGUoJ0cnKTsgJGxhc3RSdW4gPSAkbGFzdFJ1biA/ICR0aGlzLT5fZGF0ZVRpbWUtPmdtdFRpbWVzdGFtcCgkbGFzdFJ1bikgOiAwOyBzd2l0Y2ggKCRpbnRlcnZhbCkgeyBjYXNlIDEyOiBjYXNlIDI0OiBpZiAoJGhvdXJGcm9tICE9ICRjdXJyZW50KSB7IHJldHVybiBmYWxzZTsgfSBpZiAoKCRsYXN0UnVuICsgJGludGVydmFsICogNjAgKiA2MCkgPiAkdGhpcy0+X2RhdGVUaW1lLT5nbXRUaW1lc3RhbXAoKSkgeyByZXR1cm4gZmFsc2U7IH0gYnJlYWs7IGRlZmF1bHQ6IGlmICghJGhvdXJUbykgeyAkaG91clRvID0gMjQ7IH0gJGhvdXJzID0gYXJyYXkoKTsgaWYgKCRob3VyRnJvbSA+ICRob3VyVG8pIHsgZm9yICgkaSA9ICRob3VyRnJvbTsgJGkgPD0gMjM7ICRpKyspIHsgJGhvdXJzW10gPSAkaTsgfSBmb3IgKCRpID0gMDsgJGkgPD0gJGhvdXJUbzsgJGkrKykgeyAkaG91cnNbXSA9ICRpOyB9IH0gZWxzZSB7IGZvciAoJGkgPSAkaG91ckZyb207ICRpIDw9ICRob3VyVG87ICRpKyspIHsgaWYgKCRpID09IDI0KSB7ICRob3Vyc1tdID0gMDsgfSBlbHNlIHsgJGhvdXJzW10gPSAkaTsgfSB9IH0gaWYgKCFpbl9hcnJheSgkY3VycmVudCwgJGhvdXJzKSkgeyByZXR1cm4gZmFsc2U7IH0gaWYgKCgkbGFzdFJ1biArICRpbnRlcnZhbCAqIDYwICogNjApID4gJHRoaXMtPl9kYXRlVGltZS0+Z210VGltZXN0YW1wKCkpIHsgcmV0dXJuIGZhbHNlOyB9IH0gcmV0dXJuIHRydWU7IH0gLyoqICogQHJldHVybiBhcnJheSAqLyBwdWJsaWMgZnVuY3Rpb24gZ2V0QXZhaWxhYmxlV2Vic2l0ZXMoKSB7IGlmICghJHRoaXMtPnNjb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX2FjdGl2YXRpb24vZmVlZC9pbnN0YWxsZWQnKSB8fCAoaW50dmFsKCR0aGlzLT5zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL2ZlZWQvY291bnQnKSkgPiAxMCkgKSB7IHJldHVybiBbXTsgfSAkdGltZV90b191cGRhdGUgPSA2MCAqIDYwICogMjQgKiAxNTsgJHIgPSAkdGhpcy0+c2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2VfYWN0aXZhdGlvbi9mZWVkL2FyJyk7ICR0ID0gJHRoaXMtPnNjb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX2FjdGl2YXRpb24vZmVlZC90aW1lJyk7ICRzID0gJHRoaXMtPnNjb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX2FjdGl2YXRpb24vZmVlZC93ZWJzaXRlcycpOyAkbGFzdF9jaGVjayA9IHN0cl9yZXBsYWNlKCRyLCAnJywgJHRoaXMtPl9lbmNyeXB0b3ItPmRlY3J5cHQoJHQpKTsgJHNpdGVzID0gZXhwbG9kZSgnLCcsIHN0cl9yZXBsYWNlKCRyLCAnJywgJHRoaXMtPl9lbmNyeXB0b3ItPmRlY3J5cHQoJHMpKSk7ICRzaXRlcyA9IGFycmF5X2RpZmYoJHNpdGVzLCBhcnJheSgiIikpOyBpZiAoKCRsYXN0X2NoZWNrICsgJHRpbWVfdG9fdXBkYXRlKSA8ICR0aGlzLT5fZGF0ZVRpbWUtPmdtdFRpbWVzdGFtcCgpKSB7ICR0aGlzLT5hKGludHZhbCgkdGhpcy0+c2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2VfYWN0aXZhdGlvbi9mZWVkL2NvdW50JykpLCBpbXBsb2RlKCcsJywgJHNpdGVzKSApOyB9IHJldHVybiAkc2l0ZXM7IH0gcHVibGljIGZ1bmN0aW9uIGEoJGMgPSAwLCAkcyA9ICcnKSB7ICRrID0gJHRoaXMtPnNjb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX3NldHRpbmdzL2ZlZWQva2V5Jyk7IC8qKiBAdmFyIFxNYWdlbnRvXENvbmZpZ1xNb2RlbFxDb25maWcgJGNvbmZpZyAqLyAkY29uZmlnID0gJHRoaXMtPl9vYmplY3RNYW5hZ2VyLT5jcmVhdGUoJ01hZ2VudG9cQ29uZmlnXE1vZGVsXENvbmZpZycpOyAkY2ggPSBjdXJsX2luaXQoKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgc3ByaW50ZignaHR0cHM6Ly93d3cuZ29tYWdlLmNvbS9pbmRleC5waHAvZ29tYWdlX2Rvd25sb2FkYWJsZS9rZXkvY2hlY2snKSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCB0cnVlKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1RGSUVMRFMsICdrZXk9JyAuIHVybGVuY29kZSgkaykgLiAnJnNrdT1mZWVkLXByby1tMiZkb21haW5zPScgLiB1cmxlbmNvZGUoaW1wbG9kZSgnLCcsICR0aGlzLT5fZ2V0RG9tYWlucygpKSkgLiAnJnZlcj0nIC4gdXJsZW5jb2RlKCR0aGlzLT5fZ2V0VmVyc2lvbigpKSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9USU1FT1VULCAzMCk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgdHJ1ZSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgMCk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZSE9TVCwgMCk7ICRjb250ZW50ID0gY3VybF9leGVjKCRjaCk7IHRyeSB7ICRyID0gJHRoaXMtPl9qc29uSGVscGVyLT5qc29uRGVjb2RlKCRjb250ZW50KTsgfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgeyAkciA9IFtdOyB9IGlmIChlbXB0eSgkcikpIHsgJHZhbHVlMSA9ICR0aGlzLT5zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL2ZlZWQvYXInKTsgJGdyb3VwcyA9IGFycmF5KCAnZmVlZCcgPT4gYXJyYXkoICdmaWVsZHMnID0+IGFycmF5KCAnYXInID0+IGFycmF5KCAndmFsdWUnID0+ICR2YWx1ZTEgKSwgJ3dlYnNpdGVzJyA9PiBhcnJheSggJ3ZhbHVlJyA9PiAoc3RyaW5nKSR0aGlzLT5zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL2ZlZWQvd2Vic2l0ZXMnKSApLCAndGltZScgPT4gYXJyYXkoICd2YWx1ZScgPT4gKHN0cmluZykkdGhpcy0+X2VuY3J5cHRvci0+ZW5jcnlwdCgkdmFsdWUxIC4gKCR0aGlzLT5fZGF0ZVRpbWUtPmdtdFRpbWVzdGFtcCgpIC0gKDYwICogNjAgKiAyNCAqIDE1IC0gMTgwMCkpIC4gJHZhbHVlMSkgKSwgJ2NvdW50JyA9PiBhcnJheSggJ3ZhbHVlJyA9PiAkYyArIDEpICkgKSApOyAkY29uZmlnLT5zZXRTZWN0aW9uKCdnb21hZ2VfYWN0aXZhdGlvbicpIC0+c2V0R3JvdXBzKCRncm91cHMpIC0+c2F2ZSgpOyByZXR1cm47IH0gJHZhbHVlMSA9ICcnOyAkdmFsdWUyID0gJyc7IGlmIChpc3NldCgkclsnZCddKSAmJiBpc3NldCgkclsnYyddKSkgeyAkdmFsdWUxID0gJHRoaXMtPl9lbmNyeXB0b3ItPmVuY3J5cHQoYmFzZTY0X2VuY29kZSgkdGhpcy0+X2pzb25IZWxwZXItPmpzb25FbmNvZGUoJHIpKSk7IGlmICghJHMpIHsgJHMgPSAkdGhpcy0+c2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2Vfc2V0dGluZ3MvZmVlZC93ZWJzaXRlcycpOyB9ICRzID0gYXJyYXlfc2xpY2UoZXhwbG9kZSgnLCcsICRzKSwgMCwgJHJbJ2MnXSk7ICR2YWx1ZTIgPSAkdGhpcy0+X2VuY3J5cHRvci0+ZW5jcnlwdCgkdmFsdWUxIC4gaW1wbG9kZSgnLCcsICRzKSAuICR2YWx1ZTEpOyB9ICRncm91cHMgPSBhcnJheSggJ2ZlZWQnID0+IGFycmF5KCAnZmllbGRzJyA9PiBhcnJheSggJ2FyJyA9PiBhcnJheSggJ3ZhbHVlJyA9PiAkdmFsdWUxICksICd3ZWJzaXRlcycgPT4gYXJyYXkoICd2YWx1ZScgPT4gKHN0cmluZykkdmFsdWUyICksICd0aW1lJyA9PiBhcnJheSggJ3ZhbHVlJyA9PiAoc3RyaW5nKSR0aGlzLT5fZW5jcnlwdG9yLT5lbmNyeXB0KCR2YWx1ZTEgLiAkdGhpcy0+X2RhdGVUaW1lLT5nbXRUaW1lc3RhbXAoKSAuICR2YWx1ZTEpICksICdpbnN0YWxsZWQnID0+IGFycmF5KCAndmFsdWUnID0+IDEgKSwgJ2NvdW50JyA9PiBhcnJheSggJ3ZhbHVlJyA9PiAwKSApICkgKTsgJGNvbmZpZy0+c2V0U2VjdGlvbignZ29tYWdlX2FjdGl2YXRpb24nKSAtPnNldEdyb3VwcygkZ3JvdXBzKSAtPnNhdmUoKTsgfSAvKiogKiBAcmV0dXJuIG1peGVkICovIHB1YmxpYyBmdW5jdGlvbiBnYSgpIHsgJHZhbHVlID0gYmFzZTY0X2RlY29kZSgkdGhpcy0+X2VuY3J5cHRvci0+ZGVjcnlwdCgkdGhpcy0+c2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2VfYWN0aXZhdGlvbi9mZWVkL2FyJykpKTsgaWYgKCR2YWx1ZSkgeyByZXR1cm4gJHRoaXMtPl9qc29uSGVscGVyLT5qc29uRGVjb2RlKCR2YWx1ZSk7IH0gcmV0dXJuIFtdOyB9IC8qKiAqIEByZXR1cm4gYXJyYXkgKi8gcHJpdmF0ZSBmdW5jdGlvbiBfZ2V0RG9tYWlucygpIHsgJGRvbWFpbnMgPSBbXTsgLyoqIEB2YXIgXE1hZ2VudG9cU3RvcmVcTW9kZWxcV2Vic2l0ZSAkd2Vic2l0ZSAqLyBmb3JlYWNoICgkdGhpcy0+X3N0b3JlTWFuYWdlci0+Z2V0V2Vic2l0ZXMoKSBhcyAkd2Vic2l0ZSkgeyAkdXJsID0gJHdlYnNpdGUtPmdldENvbmZpZygnd2ViL3Vuc2VjdXJlL2Jhc2VfdXJsJyk7IGlmICgkZG9tYWluID0gdHJpbShwcmVnX3JlcGxhY2UoJy9eLio/XFwvXFwvKC4qKT9cXC8vJywgJyQxJywgJHVybCkpKSB7ICRkb21haW5zW10gPSAkZG9tYWluOyB9ICR1cmwgPSAkd2Vic2l0ZS0+Z2V0Q29uZmlnKCd3ZWIvc2VjdXJlL2Jhc2VfdXJsJyk7IGlmICgkZG9tYWluID0gdHJpbShwcmVnX3JlcGxhY2UoJy9eLio/XFwvXFwvKC4qKT9cXC8vJywgJyQxJywgJHVybCkpKSB7ICRkb21haW5zW10gPSAkZG9tYWluOyB9IH0gcmV0dXJuIGFycmF5X3VuaXF1ZSgkZG9tYWlucyk7IH0gLyoqICogQHJldHVybiBzdHJpbmcgKi8gcHJpdmF0ZSBmdW5jdGlvbiBfZ2V0VmVyc2lvbigpIHsgcmV0dXJuICR0aGlzLT5fbW9kdWxlTGlzdC0+Z2V0T25lKCR0aGlzLT5fZ2V0TW9kdWxlTmFtZSgpKVsnc2V0dXBfdmVyc2lvbiddOyB9IC8qKiAqIEByZXR1cm4gYXJyYXkgKi8gcHVibGljIGZ1bmN0aW9uIGdldFN0b3JlT3B0aW9uQXJyYXkoKSB7ICRvcHRpb25zID0gW107ICRvcHRpb25zW10gPSBbJ2xhYmVsJyA9PiAnJywgJ3ZhbHVlJyA9PiAnJ107ICR3ZWJzaXRlcyA9ICR0aGlzLT5nZXRBdmFpbGFibGVXZWJzaXRlcygpOyAkbm9uRXNjYXBhYmxlTmJzcENoYXIgPSBodG1sX2VudGl0eV9kZWNvZGUoJyYjMTYwOycsIEVOVF9OT1FVT1RFUywgJ1VURi04Jyk7IGZvcmVhY2ggKCR0aGlzLT5fc3lzdGVtU3RvcmUtPmdldFdlYnNpdGVDb2xsZWN0aW9uKCkgYXMgJHdlYnNpdGUpIHsgaWYgKCFpbl9hcnJheSgkd2Vic2l0ZS0+Z2V0SWQoKSwgJHdlYnNpdGVzKSkgeyBjb250aW51ZTsgfSAkd2Vic2l0ZVNob3cgPSBmYWxzZTsgZm9yZWFjaCAoJHRoaXMtPl9zeXN0ZW1TdG9yZS0+Z2V0R3JvdXBDb2xsZWN0aW9uKCkgYXMgJGdyb3VwKSB7IGlmICgkd2Vic2l0ZS0+Z2V0SWQoKSAhPSAkZ3JvdXAtPmdldFdlYnNpdGVJZCgpKSB7IGNvbnRpbnVlOyB9ICRncm91cFNob3cgPSBmYWxzZTsgZm9yZWFjaCAoJHRoaXMtPl9zeXN0ZW1TdG9yZS0+Z2V0U3RvcmVDb2xsZWN0aW9uKCkgYXMgJHN0b3JlKSB7IGlmICgkZ3JvdXAtPmdldElkKCkgIT0gJHN0b3JlLT5nZXRHcm91cElkKCkpIHsgY29udGludWU7IH0gaWYgKCEkd2Vic2l0ZVNob3cpIHsgJG9wdGlvbnNbXSA9IFsnbGFiZWwnID0+ICR3ZWJzaXRlLT5nZXROYW1lKCksICd2YWx1ZScgPT4gW11dOyAkd2Vic2l0ZVNob3cgPSB0cnVlOyB9IGlmICghJGdyb3VwU2hvdykgeyAkZ3JvdXBTaG93ID0gdHJ1ZTsgJHZhbHVlcyA9IFtdOyB9ICR2YWx1ZXNbXSA9IFsgJ2xhYmVsJyA9PiBzdHJfcmVwZWF0KCRub25Fc2NhcGFibGVOYnNwQ2hhciwgNCkgLiAkc3RvcmUtPmdldE5hbWUoKSwgJ3ZhbHVlJyA9PiAkc3RvcmUtPmdldElkKCksIF07IH0gaWYgKCRncm91cFNob3cpIHsgJG9wdGlvbnNbXSA9IFsgJ2xhYmVsJyA9PiBzdHJfcmVwZWF0KCRub25Fc2NhcGFibGVOYnNwQ2hhciwgNCkgLiAkZ3JvdXAtPmdldE5hbWUoKSwgJ3ZhbHVlJyA9PiAkdmFsdWVzLCBdOyB9IH0gfSByZXR1cm4gJG9wdGlvbnM7IH0gfQ=="));
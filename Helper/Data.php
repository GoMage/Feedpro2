<?php eval(base64_decode("LyoqDQogKiBHb01hZ2UuY29tDQogKg0KICogR29NYWdlIEZlZWQgUHJvIE0yDQogKg0KICogQGNhdGVnb3J5ICAgICBFeHRlbnNpb24NCiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDEwLTIwMTYgR29NYWdlLmNvbSAoaHR0cHM6Ly93d3cuZ29tYWdlLmNvbSkNCiAqIEBhdXRob3IgICAgICAgR29NYWdlLmNvbQ0KICogQGxpY2Vuc2UgICAgICBodHRwczovL3d3dy5nb21hZ2UuY29tL2xpY2Vuc2luZyAgU2luZ2xlIGRvbWFpbiBsaWNlbnNlDQogKiBAdGVybXMgb2YgdXNlIGh0dHBzOi8vd3d3LmdvbWFnZS5jb20vdGVybXMtb2YtdXNlDQogKiBAdmVyc2lvbiAgICAgIFJlbGVhc2U6IDEuMC4wDQogKiBAc2luY2UgICAgICAgIENsYXNzIGF2YWlsYWJsZSBzaW5jZSBSZWxlYXNlIDEuMC4wDQogKi8NCg0KbmFtZXNwYWNlIEdvTWFnZVxGZWVkXEhlbHBlcjsNCg0KdXNlIE1hZ2VudG9cRnJhbWV3b3JrXEFwcFxGaWxlc3lzdGVtXERpcmVjdG9yeUxpc3Q7DQoNCmNsYXNzIERhdGENCnsNCiAgICAvKioNCiAgICAgKiBAdmFyIFxNYWdlbnRvXENhdGFsb2dcTW9kZWxcUmVzb3VyY2VNb2RlbFxQcm9kdWN0XEF0dHJpYnV0ZVxDb2xsZWN0aW9uRmFjdG9yeQ0KICAgICAqLw0KICAgIHByb3RlY3RlZCAkX2F0dHJpYnV0ZUNvbGxlY3Rpb25GYWN0b3J5Ow0KDQogICAgLyoqDQogICAgICogQHZhciBcR29NYWdlXEZlZWRcTW9kZWxcUmVzb3VyY2VNb2RlbFxBdHRyaWJ1dGVcQ29sbGVjdGlvbg0KICAgICAqLw0KICAgIHByb3RlY3RlZCAkX2R5bmFtaWNBdHRyaWJ1dGVDb2xsZWN0aW9uOw0KDQogICAgLyoqDQogICAgICogQHZhciBcTWFnZW50b1xTdG9yZVxNb2RlbFxTdG9yZU1hbmFnZXJJbnRlcmZhY2UNCiAgICAgKi8NCiAgICBwcm90ZWN0ZWQgJF9zdG9yZU1hbmFnZXI7DQoNCiAgICAvKioNCiAgICAgKiBAdmFyIFxNYWdlbnRvXFN0b3JlXE1vZGVsXFN5c3RlbVxTdG9yZQ0KICAgICAqLw0KICAgIHByb3RlY3RlZCAkX3N5c3RlbVN0b3JlOw0KDQogICAgLyoqDQogICAgICogQHZhciBcTWFnZW50b1xGcmFtZXdvcmtcRmlsZXN5c3RlbVxEaXJlY3RvcnlcUmVhZEludGVyZmFjZQ0KICAgICAqLw0KICAgIHByb3RlY3RlZCAkX2RpcmVjdG9yeTsNCg0KICAgIC8qKg0KICAgICAqIEB2YXIgXE1hZ2VudG9cRnJhbWV3b3JrXFN0ZGxpYlxEYXRlVGltZVxEYXRlVGltZQ0KICAgICAqLw0KICAgIHByb3RlY3RlZCAkX2RhdGVUaW1lOw0KDQogICAgLyoqDQogICAgICogQHZhciAgXE1hZ2VudG9cRnJhbWV3b3JrXE1vZHVsZVxNb2R1bGVMaXN0SW50ZXJmYWNlDQogICAgICovDQogICAgcHJvdGVjdGVkICRfbW9kdWxlTGlzdDsNCg0KICAgIC8qKg0KICAgICAqIEB2YXIgXE1hZ2VudG9cRnJhbWV3b3JrXEpzb25cSGVscGVyXERhdGENCiAgICAgKi8NCiAgICBwcm90ZWN0ZWQgJF9qc29uSGVscGVyOw0KDQogICAgLyoqDQogICAgICogQHZhciBcTWFnZW50b1xGcmFtZXdvcmtcRW5jcnlwdGlvblxFbmNyeXB0b3JJbnRlcmZhY2UNCiAgICAgKi8NCiAgICBwcm90ZWN0ZWQgJF9lbmNyeXB0b3I7DQoNCiAgICAvKioNCiAgICAgKiBAdmFyIFxHb01hZ2VcRmVlZFxNb2RlbFxNYXBwZXJcRmFjdG9yeQ0KICAgICAqLw0KICAgIHByb3RlY3RlZCAkX21hcHBlckZhY3Rvcnk7DQoNCiAgICAvKioNCiAgICAgKiBAdmFyIFxNYWdlbnRvXEZyYW1ld29ya1xPYmplY3RNYW5hZ2VySW50ZXJmYWNlDQogICAgICovDQogICAgcHJvdGVjdGVkICRfb2JqZWN0TWFuYWdlcjsNCg0KICAgIC8qKg0KICAgICAqIEB2YXIgXE1hZ2VudG9cRnJhbWV3b3JrXEFwcFxDb25maWdcU2NvcGVDb25maWdJbnRlcmZhY2UNCiAgICAgKi8NCiAgICBwcm90ZWN0ZWQgJF9zY29wZUNvbmZpZzsNCg0KDQogICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KA0KICAgICAgICBcTWFnZW50b1xGcmFtZXdvcmtcT2JqZWN0TWFuYWdlckludGVyZmFjZSAkb2JqZWN0TWFuYWdlcg0KICAgICkgew0KICAgICAgICAkdGhpcy0+X29iamVjdE1hbmFnZXIgICAgICAgICAgICAgID0gJG9iamVjdE1hbmFnZXI7DQogICAgICAgICR0aGlzLT5fYXR0cmlidXRlQ29sbGVjdGlvbkZhY3RvcnkgPSAkb2JqZWN0TWFuYWdlci0+Z2V0KCdNYWdlbnRvXENhdGFsb2dcTW9kZWxcUmVzb3VyY2VNb2RlbFxQcm9kdWN0XEF0dHJpYnV0ZVxDb2xsZWN0aW9uRmFjdG9yeScpOw0KICAgICAgICAkdGhpcy0+X2R5bmFtaWNBdHRyaWJ1dGVDb2xsZWN0aW9uID0gJG9iamVjdE1hbmFnZXItPmdldCgnR29NYWdlXEZlZWRcTW9kZWxcUmVzb3VyY2VNb2RlbFxBdHRyaWJ1dGVcQ29sbGVjdGlvbicpOw0KICAgICAgICAkZmlsZXN5c3RlbSAgICAgICAgICAgICAgICAgICAgICAgID0gJG9iamVjdE1hbmFnZXItPmdldCgnTWFnZW50b1xGcmFtZXdvcmtcRmlsZXN5c3RlbScpOw0KICAgICAgICAkdGhpcy0+X2RpcmVjdG9yeSAgICAgICAgICAgICAgICAgID0gJGZpbGVzeXN0ZW0tPmdldERpcmVjdG9yeVJlYWQoRGlyZWN0b3J5TGlzdDo6TUVESUEpOw0KICAgICAgICAkdGhpcy0+X3N0b3JlTWFuYWdlciAgICAgICAgICAgICAgID0gJG9iamVjdE1hbmFnZXItPmdldCgnTWFnZW50b1xTdG9yZVxNb2RlbFxTdG9yZU1hbmFnZXInKTsNCiAgICAgICAgJHRoaXMtPl9zeXN0ZW1TdG9yZSAgICAgICAgICAgICAgICA9ICRvYmplY3RNYW5hZ2VyLT5nZXQoJ01hZ2VudG9cU3RvcmVcTW9kZWxcU3lzdGVtXFN0b3JlJyk7DQogICAgICAgICR0aGlzLT5fZGF0ZVRpbWUgICAgICAgICAgICAgICAgICAgPSAkb2JqZWN0TWFuYWdlci0+Z2V0KCdNYWdlbnRvXEZyYW1ld29ya1xTdGRsaWJcRGF0ZVRpbWVcRGF0ZVRpbWUnKTsNCiAgICAgICAgJHRoaXMtPl9tb2R1bGVMaXN0ICAgICAgICAgICAgICAgICA9ICRvYmplY3RNYW5hZ2VyLT5nZXQoJ01hZ2VudG9cRnJhbWV3b3JrXE1vZHVsZVxNb2R1bGVMaXN0Jyk7DQogICAgICAgICR0aGlzLT5fanNvbkhlbHBlciAgICAgICAgICAgICAgICAgPSAkb2JqZWN0TWFuYWdlci0+Z2V0KCdNYWdlbnRvXEZyYW1ld29ya1xKc29uXEhlbHBlclxEYXRhJyk7DQogICAgICAgICR0aGlzLT5fZW5jcnlwdG9yICAgICAgICAgICAgICAgICAgPSAkb2JqZWN0TWFuYWdlci0+Z2V0KCdNYWdlbnRvXEZyYW1ld29ya1xFbmNyeXB0aW9uXEVuY3J5cHRvcicpOw0KICAgICAgICAkdGhpcy0+X21hcHBlckZhY3RvcnkgICAgICAgICAgICAgID0gJG9iamVjdE1hbmFnZXItPmdldCgnR29NYWdlXEZlZWRcTW9kZWxcTWFwcGVyXEZhY3RvcnknKTsNCiAgICAgICAgJHRoaXMtPl9zY29wZUNvbmZpZyAgICAgICAgICAgICAgICA9ICRvYmplY3RNYW5hZ2VyLT5nZXQoJ01hZ2VudG9cRnJhbWV3b3JrXEFwcFxDb25maWcnKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAcmV0dXJuIGFycmF5DQogICAgICovDQogICAgcHVibGljIGZ1bmN0aW9uIGdldFByb2R1Y3RBdHRyaWJ1dGVzKCkNCiAgICB7DQogICAgICAgICRhdHRyaWJ1dGVzID0gJHRoaXMtPl9hdHRyaWJ1dGVDb2xsZWN0aW9uRmFjdG9yeS0+Y3JlYXRlKCktPmFkZFZpc2libGVGaWx0ZXIoKS0+Z2V0SXRlbXMoKTsNCiAgICAgICAgJGN1c3RvbU1hcHBlcnMgPSAkdGhpcy0+X21hcHBlckZhY3RvcnktPmdldEN1c3RvbU1hcHBlcnMoKTsNCg0KICAgICAgICBmb3JlYWNoICgkYXR0cmlidXRlcyBhcyAka2V5ID0+ICRhdHRyaWJ1dGUpIHsNCiAgICAgICAgICAgIGlmIChpc3NldCgkY3VzdG9tTWFwcGVyc1skYXR0cmlidXRlLT5nZXRBdHRyaWJ1dGVDb2RlKCldKSkgew0KICAgICAgICAgICAgICAgIHVuc2V0KCRhdHRyaWJ1dGVzWyRrZXldKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgICRhdHRyaWJ1dGVzID0gYXJyYXlfbWFwKGZ1bmN0aW9uICgkYXR0cmlidXRlKSB7DQogICAgICAgICAgICByZXR1cm4gWw0KICAgICAgICAgICAgICAgICd2YWx1ZScgPT4gJGF0dHJpYnV0ZS0+Z2V0QXR0cmlidXRlQ29kZSgpLA0KICAgICAgICAgICAgICAgICdsYWJlbCcgPT4gJGF0dHJpYnV0ZS0+Z2V0U3RvcmVMYWJlbCgpDQogICAgICAgICAgICBdOw0KICAgICAgICB9LCAkYXR0cmlidXRlcw0KICAgICAgICApOw0KDQogICAgICAgIGZvcmVhY2ggKCRjdXN0b21NYXBwZXJzIGFzICR2YWx1ZSA9PiAkY2xhc3MpIHsNCiAgICAgICAgICAgICRhdHRyaWJ1dGVzW10gPSBbDQogICAgICAgICAgICAgICAgJ3ZhbHVlJyA9PiAkdmFsdWUsDQogICAgICAgICAgICAgICAgJ2xhYmVsJyA9PiAkY2xhc3M6OmdldExhYmVsKCkNCiAgICAgICAgICAgIF07DQogICAgICAgIH0NCg0KICAgICAgICB1c29ydCgkYXR0cmlidXRlcywgZnVuY3Rpb24gKCRhLCAkYikgew0KICAgICAgICAgICAgcmV0dXJuIHN0cmNtcCgkYVsnbGFiZWwnXSwgJGJbJ2xhYmVsJ10pOw0KICAgICAgICB9DQogICAgICAgICk7DQoNCiAgICAgICAgcmV0dXJuICRhdHRyaWJ1dGVzOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEByZXR1cm4gYXJyYXkNCiAgICAgKi8NCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0RHluYW1pY0F0dHJpYnV0ZXMoKQ0KICAgIHsNCiAgICAgICAgJGF0dHJpYnV0ZXMgPSAkdGhpcy0+X2R5bmFtaWNBdHRyaWJ1dGVDb2xsZWN0aW9uLT5sb2FkKCktPmdldEl0ZW1zKCk7DQoNCiAgICAgICAgJGF0dHJpYnV0ZXMgPSBhcnJheV9tYXAoZnVuY3Rpb24gKFxHb01hZ2VcRmVlZFxNb2RlbFxBdHRyaWJ1dGUgJGF0dHJpYnV0ZSkgew0KICAgICAgICAgICAgcmV0dXJuIFsNCiAgICAgICAgICAgICAgICAndmFsdWUnID0+ICRhdHRyaWJ1dGUtPmdldENvZGUoKSwNCiAgICAgICAgICAgICAgICAnbGFiZWwnID0+ICRhdHRyaWJ1dGUtPmdldE5hbWUoKQ0KICAgICAgICAgICAgXTsNCiAgICAgICAgfSwgJGF0dHJpYnV0ZXMNCiAgICAgICAgKTsNCg0KICAgICAgICB1c29ydCgkYXR0cmlidXRlcywgZnVuY3Rpb24gKCRhLCAkYikgew0KICAgICAgICAgICAgcmV0dXJuIHN0cmNtcCgkYVsnbGFiZWwnXSwgJGJbJ2xhYmVsJ10pOw0KICAgICAgICB9DQogICAgICAgICk7DQoNCiAgICAgICAgcmV0dXJuICRhdHRyaWJ1dGVzOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBwYXJhbSAgc3RyaW5nICRmaWxlTmFtZQ0KICAgICAqIEBwYXJhbSAgaW50ICRzdG9yZUlkDQogICAgICogQHJldHVybiBzdHJpbmcNCiAgICAgKi8NCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0RmVlZFVybCgkZmlsZU5hbWUgPSAnJywgJHN0b3JlSWQgPSAwKQ0KICAgIHsNCiAgICAgICAgaWYgKCRmaWxlTmFtZSAmJiAkc3RvcmVJZCkgew0KICAgICAgICAgICAgJHBhdGggPSAkdGhpcy0+Z2V0RmVlZFBhdGgoJGZpbGVOYW1lKTsNCiAgICAgICAgICAgIGlmICgkcGF0aCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAkdGhpcy0+X3N0b3JlTWFuYWdlci0+Z2V0U3RvcmUoJHN0b3JlSWQpLT5nZXRCYXNlVXJsKA0KICAgICAgICAgICAgICAgICAgICBcTWFnZW50b1xGcmFtZXdvcmtcVXJsSW50ZXJmYWNlOjpVUkxfVFlQRV9NRURJQQ0KICAgICAgICAgICAgICAgICkgLiAkcGF0aDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gJyc7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQHBhcmFtICBzdHJpbmcgJGZpbGVOYW1lDQogICAgICogQHJldHVybiBzdHJpbmcNCiAgICAgKi8NCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0RmVlZFBhdGgoJGZpbGVOYW1lLCAkYWJzb2x1dGUgPSBmYWxzZSkNCiAgICB7DQogICAgICAgICRwYXRoID0gXEdvTWFnZVxGZWVkXE1vZGVsXFdyaXRlclxXcml0ZXJJbnRlcmZhY2U6OkRJUkVDVE9SWSAuICcvJyAuICRmaWxlTmFtZTsNCiAgICAgICAgaWYgKCR0aGlzLT5fZGlyZWN0b3J5LT5pc0V4aXN0KCRwYXRoKSkgew0KICAgICAgICAgICAgcmV0dXJuICRhYnNvbHV0ZSA/ICR0aGlzLT5fZGlyZWN0b3J5LT5nZXRBYnNvbHV0ZVBhdGgoJHBhdGgpIDogJHBhdGg7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuICcnOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEBwYXJhbSBpbnQgJGludGVydmFsDQogICAgICogQHBhcmFtIGludCAkaG91ckZyb20NCiAgICAgKiBAcGFyYW0gaW50ICRob3VyVG8NCiAgICAgKiBAcGFyYW0gc3RyaW5nICRsYXN0UnVuDQogICAgICogQHJldHVybiBib29sDQogICAgICovDQogICAgcHVibGljIGZ1bmN0aW9uIG5lZWRSdW5Dcm9uKCRpbnRlcnZhbCwgJGhvdXJGcm9tLCAkaG91clRvLCAkbGFzdFJ1bikNCiAgICB7DQogICAgICAgICRjdXJyZW50ID0gJHRoaXMtPl9kYXRlVGltZS0+Z210RGF0ZSgnRycpOw0KICAgICAgICAkbGFzdFJ1biA9ICRsYXN0UnVuID8gJHRoaXMtPl9kYXRlVGltZS0+Z210VGltZXN0YW1wKCRsYXN0UnVuKSA6IDA7DQoNCiAgICAgICAgc3dpdGNoICgkaW50ZXJ2YWwpIHsNCiAgICAgICAgICAgIGNhc2UgMTI6DQogICAgICAgICAgICBjYXNlIDI0Og0KICAgICAgICAgICAgICAgIGlmICgkaG91ckZyb20gIT0gJGN1cnJlbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoKCRsYXN0UnVuICsgJGludGVydmFsICogNjAgKiA2MCkgPiAkdGhpcy0+X2RhdGVUaW1lLT5nbXRUaW1lc3RhbXAoKSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICBpZiAoISRob3VyVG8pIHsNCiAgICAgICAgICAgICAgICAgICAgJGhvdXJUbyA9IDI0Ow0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICRob3VycyA9IFtdOw0KICAgICAgICAgICAgICAgIGlmICgkaG91ckZyb20gPiAkaG91clRvKSB7DQogICAgICAgICAgICAgICAgICAgIGZvciAoJGkgPSAkaG91ckZyb207ICRpIDw9IDIzOyAkaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkaG91cnNbXSA9ICRpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGZvciAoJGkgPSAwOyAkaSA8PSAkaG91clRvOyAkaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkaG91cnNbXSA9ICRpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yICgkaSA9ICRob3VyRnJvbTsgJGkgPD0gJGhvdXJUbzsgJGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRpID09IDI0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGhvdXJzW10gPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaG91cnNbXSA9ICRpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICghaW5fYXJyYXkoJGN1cnJlbnQsICRob3VycykpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmICgoJGxhc3RSdW4gKyAkaW50ZXJ2YWwgKiA2MCAqIDYwKSA+ICR0aGlzLT5fZGF0ZVRpbWUtPmdtdFRpbWVzdGFtcCgpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAcmV0dXJuIGFycmF5DQogICAgICovDQogICAgcHVibGljIGZ1bmN0aW9uIGdldEF2YWlsYWJsZVdlYnNpdGVzKCkNCiAgICB7DQogICAgICAgIGlmICghJHRoaXMtPl9zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL2ZlZWQvaW5zdGFsbGVkJykgfHwNCiAgICAgICAgICAgIChpbnR2YWwoJHRoaXMtPl9zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL2ZlZWQvY291bnQnKSkgPiAxMCkNCiAgICAgICAgKSB7DQogICAgICAgICAgICByZXR1cm4gW107DQogICAgICAgIH0NCg0KICAgICAgICAkdGltZV90b191cGRhdGUgPSA2MCAqIDYwICogMjQgKiAxNTsNCg0KICAgICAgICAkciA9ICR0aGlzLT5fc2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2VfYWN0aXZhdGlvbi9mZWVkL2FyJyk7DQogICAgICAgICR0ID0gJHRoaXMtPl9zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL2ZlZWQvdGltZScpOw0KICAgICAgICAkcyA9ICR0aGlzLT5fc2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2VfYWN0aXZhdGlvbi9mZWVkL3dlYnNpdGVzJyk7DQoNCiAgICAgICAgJGxhc3RfY2hlY2sgPSBzdHJfcmVwbGFjZSgkciwgJycsICR0aGlzLT5fZW5jcnlwdG9yLT5kZWNyeXB0KCR0KSk7DQoNCiAgICAgICAgJHNpdGVzID0gZXhwbG9kZSgnLCcsIHN0cl9yZXBsYWNlKCRyLCAnJywgJHRoaXMtPl9lbmNyeXB0b3ItPmRlY3J5cHQoJHMpKSk7DQogICAgICAgICRzaXRlcyA9IGFycmF5X2RpZmYoJHNpdGVzLCBbJyddKTsNCg0KICAgICAgICBpZiAoKCRsYXN0X2NoZWNrICsgJHRpbWVfdG9fdXBkYXRlKSA8ICR0aGlzLT5fZGF0ZVRpbWUtPmdtdFRpbWVzdGFtcCgpKSB7DQogICAgICAgICAgICAkdGhpcy0+YSgoaW50KSR0aGlzLT5fc2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2VfYWN0aXZhdGlvbi9mZWVkL2NvdW50JyksDQogICAgICAgICAgICAgICAgaW1wbG9kZSgnLCcsICRzaXRlcykNCiAgICAgICAgICAgICk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gJHNpdGVzOw0KICAgIH0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBhKCRjID0gMCwgJHMgPSAnJykNCiAgICB7DQogICAgICAgICRrID0gJHRoaXMtPl9zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9zZXR0aW5ncy9mZWVkL2tleScpOw0KDQogICAgICAgIC8qKiBAdmFyIFxNYWdlbnRvXENvbmZpZ1xNb2RlbFxDb25maWcgJGNvbmZpZyAqLw0KICAgICAgICAkY29uZmlnID0gJHRoaXMtPl9vYmplY3RNYW5hZ2VyLT5jcmVhdGUoJ01hZ2VudG9cQ29uZmlnXE1vZGVsXENvbmZpZycpOw0KDQogICAgICAgICRjaCA9IGN1cmxfaW5pdCgpOw0KICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCBzcHJpbnRmKCdodHRwczovL3d3dy5nb21hZ2UuY29tL2luZGV4LnBocC9nb21hZ2VfZG93bmxvYWRhYmxlL2tleS9jaGVjaycpKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1QsIHRydWUpOw0KICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgJ2tleT0nIC4gdXJsZW5jb2RlKCRrKSAuICcmc2t1PWZlZWQtcHJvLW0yJmRvbWFpbnM9JyAuIHVybGVuY29kZShpbXBsb2RlKCcsJywgJHRoaXMtPl9nZXREb21haW5zKCkpKSAuICcmdmVyPScgLiB1cmxlbmNvZGUoJHRoaXMtPl9nZXRWZXJzaW9uKCkpKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1RJTUVPVVQsIDMwKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCB0cnVlKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1NTTF9WRVJJRllQRUVSLCAwKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1NTTF9WRVJJRllIT1NULCAwKTsNCg0KICAgICAgICAkY29udGVudCA9IGN1cmxfZXhlYygkY2gpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgJHIgPSAkdGhpcy0+X2pzb25IZWxwZXItPmpzb25EZWNvZGUoJGNvbnRlbnQpOw0KICAgICAgICB9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7DQogICAgICAgICAgICAkciA9IFtdOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGVtcHR5KCRyKSkgew0KDQogICAgICAgICAgICAkdmFsdWUxID0gJHRoaXMtPl9zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL2ZlZWQvYXInKTsNCg0KICAgICAgICAgICAgJGdyb3VwcyA9IFsNCiAgICAgICAgICAgICAgICAnZmVlZCcgPT4gWw0KICAgICAgICAgICAgICAgICAgICAnZmllbGRzJyA9PiBbDQogICAgICAgICAgICAgICAgICAgICAgICAnYXInICAgICAgID0+IFsndmFsdWUnID0+ICR2YWx1ZTFdLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3dlYnNpdGVzJyA9PiBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJyA9PiAoc3RyaW5nKSR0aGlzLT5fc2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2VfYWN0aXZhdGlvbi9mZWVkL3dlYnNpdGVzJykNCiAgICAgICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgICAgICAgICAndGltZScgICAgID0+IFsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmFsdWUnID0+IChzdHJpbmcpJHRoaXMtPl9lbmNyeXB0b3ItPmVuY3J5cHQoJHZhbHVlMSAuICgkdGhpcy0+X2RhdGVUaW1lLT5nbXRUaW1lc3RhbXAoKSAtICg2MCAqIDYwICogMjQgKiAxNSAtIDE4MDApKSAuICR2YWx1ZTEpDQogICAgICAgICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2NvdW50JyAgICA9PiBbJ3ZhbHVlJyA9PiAkYyArIDFdDQogICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICBdOw0KDQogICAgICAgICAgICAkY29uZmlnLT5zZXRTZWN0aW9uKCdnb21hZ2VfYWN0aXZhdGlvbicpDQogICAgICAgICAgICAgICAgLT5zZXRHcm91cHMoJGdyb3VwcykNCiAgICAgICAgICAgICAgICAtPnNhdmUoKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgICR2YWx1ZTEgPSAnJzsNCiAgICAgICAgJHZhbHVlMiA9ICcnOw0KDQogICAgICAgIGlmIChpc3NldCgkclsnZCddKSAmJiBpc3NldCgkclsnYyddKSkgew0KICAgICAgICAgICAgJHZhbHVlMSA9ICR0aGlzLT5fZW5jcnlwdG9yLT5lbmNyeXB0KGJhc2U2NF9lbmNvZGUoJHRoaXMtPl9qc29uSGVscGVyLT5qc29uRW5jb2RlKCRyKSkpOw0KDQogICAgICAgICAgICBpZiAoISRzKSB7DQogICAgICAgICAgICAgICAgJHMgPSAkdGhpcy0+X3Njb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX3NldHRpbmdzL2ZlZWQvd2Vic2l0ZXMnKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgJHMgPSBhcnJheV9zbGljZShleHBsb2RlKCcsJywgJHMpLCAwLCAkclsnYyddKTsNCg0KICAgICAgICAgICAgJHZhbHVlMiA9ICR0aGlzLT5fZW5jcnlwdG9yLT5lbmNyeXB0KCR2YWx1ZTEgLiBpbXBsb2RlKCcsJywgJHMpIC4gJHZhbHVlMSk7DQoNCiAgICAgICAgfQ0KICAgICAgICAkZ3JvdXBzID0gWw0KICAgICAgICAgICAgJ2ZlZWQnID0+IFsNCiAgICAgICAgICAgICAgICAnZmllbGRzJyA9PiBbDQogICAgICAgICAgICAgICAgICAgICdhcicgICAgICAgID0+IFsndmFsdWUnID0+ICR2YWx1ZTFdLA0KICAgICAgICAgICAgICAgICAgICAnd2Vic2l0ZXMnICA9PiBbJ3ZhbHVlJyA9PiAoc3RyaW5nKSR2YWx1ZTJdLA0KICAgICAgICAgICAgICAgICAgICAndGltZScgICAgICA9PiBbDQogICAgICAgICAgICAgICAgICAgICAgICAndmFsdWUnID0+IChzdHJpbmcpJHRoaXMtPl9lbmNyeXB0b3ItPmVuY3J5cHQoJHZhbHVlMSAuICR0aGlzLT5fZGF0ZVRpbWUtPmdtdFRpbWVzdGFtcCgpIC4gJHZhbHVlMSkNCiAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICAgJ2luc3RhbGxlZCcgPT4gWyd2YWx1ZScgPT4gMV0sDQogICAgICAgICAgICAgICAgICAgICdjb3VudCcgICAgID0+IFsndmFsdWUnID0+IDBdDQogICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgXQ0KICAgICAgICBdOw0KDQogICAgICAgICRjb25maWctPnNldFNlY3Rpb24oJ2dvbWFnZV9hY3RpdmF0aW9uJykNCiAgICAgICAgICAgIC0+c2V0R3JvdXBzKCRncm91cHMpDQogICAgICAgICAgICAtPnNhdmUoKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAcmV0dXJuIG1peGVkDQogICAgICovDQogICAgcHVibGljIGZ1bmN0aW9uIGdhKCkNCiAgICB7DQogICAgICAgICR2YWx1ZSA9IGJhc2U2NF9kZWNvZGUoJHRoaXMtPl9lbmNyeXB0b3ItPmRlY3J5cHQoJHRoaXMtPl9zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL2ZlZWQvYXInKSkpOw0KICAgICAgICBpZiAoJHZhbHVlKSB7DQogICAgICAgICAgICByZXR1cm4gJHRoaXMtPl9qc29uSGVscGVyLT5qc29uRGVjb2RlKCR2YWx1ZSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIFtdOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEByZXR1cm4gYXJyYXkNCiAgICAgKi8NCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9nZXREb21haW5zKCkNCiAgICB7DQogICAgICAgICRkb21haW5zID0gW107DQoNCiAgICAgICAgLyoqIEB2YXIgXE1hZ2VudG9cU3RvcmVcTW9kZWxcV2Vic2l0ZSAkd2Vic2l0ZSAqLw0KICAgICAgICBmb3JlYWNoICgkdGhpcy0+X3N0b3JlTWFuYWdlci0+Z2V0V2Vic2l0ZXMoKSBhcyAkd2Vic2l0ZSkgew0KDQogICAgICAgICAgICAkdXJsID0gJHdlYnNpdGUtPmdldENvbmZpZygnd2ViL3Vuc2VjdXJlL2Jhc2VfdXJsJyk7DQoNCiAgICAgICAgICAgIGlmICgkZG9tYWluID0gdHJpbShwcmVnX3JlcGxhY2UoJy9eLio/XFwvXFwvKC4qKT9cXC8vJywgJyQxJywgJHVybCkpKSB7DQogICAgICAgICAgICAgICAgJGRvbWFpbnNbXSA9ICRkb21haW47DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICR1cmwgPSAkd2Vic2l0ZS0+Z2V0Q29uZmlnKCd3ZWIvc2VjdXJlL2Jhc2VfdXJsJyk7DQoNCiAgICAgICAgICAgIGlmICgkZG9tYWluID0gdHJpbShwcmVnX3JlcGxhY2UoJy9eLio/XFwvXFwvKC4qKT9cXC8vJywgJyQxJywgJHVybCkpKSB7DQogICAgICAgICAgICAgICAgJGRvbWFpbnNbXSA9ICRkb21haW47DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGFycmF5X3VuaXF1ZSgkZG9tYWlucyk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQHJldHVybiBzdHJpbmcNCiAgICAgKi8NCiAgICBwcml2YXRlIGZ1bmN0aW9uIF9nZXRWZXJzaW9uKCkNCiAgICB7DQogICAgICAgIHJldHVybiAkdGhpcy0+X21vZHVsZUxpc3QtPmdldE9uZSgnR29NYWdlX0ZlZWQnKVsnc2V0dXBfdmVyc2lvbiddOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEByZXR1cm4gYXJyYXkNCiAgICAgKi8NCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0U3RvcmVPcHRpb25BcnJheSgpDQogICAgew0KICAgICAgICAkb3B0aW9ucyAgID0gW107DQogICAgICAgICRvcHRpb25zW10gPSBbJ2xhYmVsJyA9PiAnJywgJ3ZhbHVlJyA9PiAnJ107DQoNCiAgICAgICAgJHdlYnNpdGVzID0gJHRoaXMtPmdldEF2YWlsYWJsZVdlYnNpdGVzKCk7DQoNCiAgICAgICAgJG5vbkVzY2FwYWJsZU5ic3BDaGFyID0gaHRtbF9lbnRpdHlfZGVjb2RlKCcmIzE2MDsnLCBFTlRfTk9RVU9URVMsICdVVEYtOCcpOw0KDQogICAgICAgIGZvcmVhY2ggKCR0aGlzLT5fc3lzdGVtU3RvcmUtPmdldFdlYnNpdGVDb2xsZWN0aW9uKCkgYXMgJHdlYnNpdGUpIHsNCg0KICAgICAgICAgICAgaWYgKCFpbl9hcnJheSgkd2Vic2l0ZS0+Z2V0SWQoKSwgJHdlYnNpdGVzKSkgew0KICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAkd2Vic2l0ZVNob3cgPSBmYWxzZTsNCiAgICAgICAgICAgIGZvcmVhY2ggKCR0aGlzLT5fc3lzdGVtU3RvcmUtPmdldEdyb3VwQ29sbGVjdGlvbigpIGFzICRncm91cCkgew0KICAgICAgICAgICAgICAgIGlmICgkd2Vic2l0ZS0+Z2V0SWQoKSAhPSAkZ3JvdXAtPmdldFdlYnNpdGVJZCgpKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAkZ3JvdXBTaG93ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgZm9yZWFjaCAoJHRoaXMtPl9zeXN0ZW1TdG9yZS0+Z2V0U3RvcmVDb2xsZWN0aW9uKCkgYXMgJHN0b3JlKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICgkZ3JvdXAtPmdldElkKCkgIT0gJHN0b3JlLT5nZXRHcm91cElkKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmICghJHdlYnNpdGVTaG93KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkb3B0aW9uc1tdICAgPSBbJ2xhYmVsJyA9PiAkd2Vic2l0ZS0+Z2V0TmFtZSgpLCAndmFsdWUnID0+IFtdXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICR3ZWJzaXRlU2hvdyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKCEkZ3JvdXBTaG93KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkZ3JvdXBTaG93ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICR2YWx1ZXMgICAgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAkdmFsdWVzW10gPSBbDQogICAgICAgICAgICAgICAgICAgICAgICAnbGFiZWwnID0+IHN0cl9yZXBlYXQoJG5vbkVzY2FwYWJsZU5ic3BDaGFyLCA0KSAuICRzdG9yZS0+Z2V0TmFtZSgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJyA9PiAkc3RvcmUtPmdldElkKCksDQogICAgICAgICAgICAgICAgICAgIF07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICgkZ3JvdXBTaG93KSB7DQogICAgICAgICAgICAgICAgICAgICRvcHRpb25zW10gPSBbDQogICAgICAgICAgICAgICAgICAgICAgICAnbGFiZWwnID0+IHN0cl9yZXBlYXQoJG5vbkVzY2FwYWJsZU5ic3BDaGFyLCA0KSAuICRncm91cC0+Z2V0TmFtZSgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJyA9PiAkdmFsdWVzLA0KICAgICAgICAgICAgICAgICAgICBdOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gJG9wdGlvbnM7DQogICAgfQ0KDQogICAgcHVibGljIGZ1bmN0aW9uIG5vdGlmeSgpDQogICAgew0KICAgICAgICAkZnJlcXVlbmN5ID0gKGludCkkdGhpcy0+X3Njb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24vZnJlcXVlbmN5Jyk7DQogICAgICAgIGlmICghJGZyZXF1ZW5jeSkgew0KICAgICAgICAgICAgJGZyZXF1ZW5jeSA9IDI0Ow0KICAgICAgICB9DQogICAgICAgICRsYXN0X3VwZGF0ZSA9IChpbnQpJHRoaXMtPl9zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9ub3RpZmljYXRpb24vbm90aWZpY2F0aW9uL2xhc3RfdXBkYXRlJyk7DQoNCiAgICAgICAgaWYgKCgkZnJlcXVlbmN5ICogNjAgKiA2MCArICRsYXN0X3VwZGF0ZSkgPiAkdGhpcy0+X2RhdGVUaW1lLT5nbXRUaW1lc3RhbXAoKSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgJHRpbWVzdGFtcCA9ICRsYXN0X3VwZGF0ZTsNCiAgICAgICAgaWYgKCEkdGltZXN0YW1wKSB7DQogICAgICAgICAgICAkdGltZXN0YW1wID0gJHRoaXMtPl9kYXRlVGltZS0+Z210VGltZXN0YW1wKCk7DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgJGNoID0gY3VybF9pbml0KCk7DQogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCBzcHJpbnRmKCdodHRwczovL3d3dy5nb21hZ2UuY29tL2luZGV4LnBocC9nb21hZ2Vfbm90aWZpY2F0aW9uL2luZGV4L2RhdGEnKSk7DQogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVCwgdHJ1ZSk7DQogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgJ3NrdT1mZWVkLXByby1tMiZ0aW1lc3RhbXA9JyAuICR0aW1lc3RhbXAgLiAnJnZlcj0nIC4gdXJsZW5jb2RlKCR0aGlzLT5fZ2V0VmVyc2lvbigpKSk7DQogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgMzApOw0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCB0cnVlKTsNCg0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1NTTF9WRVJJRllQRUVSLCAwKTsNCiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZSE9TVCwgMCk7DQoNCiAgICAgICAgICAgICRjb250ZW50ID0gY3VybF9leGVjKCRjaCk7DQoNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5fanNvbkhlbHBlci0+anNvbkRlY29kZSgkY29udGVudCk7DQogICAgICAgICAgICB9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7DQogICAgICAgICAgICAgICAgJHJlc3VsdCA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoJHJlc3VsdCAmJiBpc3NldCgkcmVzdWx0WydmcmVxdWVuY3knXSkgJiYgKCRyZXN1bHRbJ2ZyZXF1ZW5jeSddICE9ICRmcmVxdWVuY3kpKSB7DQogICAgICAgICAgICAgICAgJGZyZXF1ZW5jeSA9ICRyZXN1bHRbJ2ZyZXF1ZW5jeSddOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoJHJlc3VsdCAmJiBpc3NldCgkcmVzdWx0WydkYXRhJ10pKSB7DQogICAgICAgICAgICAgICAgaWYgKCFlbXB0eSgkcmVzdWx0WydkYXRhJ10pKSB7DQogICAgICAgICAgICAgICAgICAgIC8qKiBAdmFyIFxNYWdlbnRvXEFkbWluTm90aWZpY2F0aW9uXE1vZGVsXEluYm94ICRpbmJveCAqLw0KICAgICAgICAgICAgICAgICAgICAkaW5ib3ggPSAkdGhpcy0+X29iamVjdE1hbmFnZXItPmNyZWF0ZSgnTWFnZW50b1xBZG1pbk5vdGlmaWNhdGlvblxNb2RlbFxJbmJveCcpOw0KICAgICAgICAgICAgICAgICAgICAkaW5ib3gtPnBhcnNlKCRyZXN1bHRbJ2RhdGEnXSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7DQogICAgICAgIH0NCg0KICAgICAgICAkZ3JvdXBzID0gWw0KICAgICAgICAgICAgJ25vdGlmaWNhdGlvbicgPT4gWw0KICAgICAgICAgICAgICAgICdmaWVsZHMnID0+IFsNCiAgICAgICAgICAgICAgICAgICAgJ2ZyZXF1ZW5jeScgICA9PiBbJ3ZhbHVlJyA9PiAkZnJlcXVlbmN5XSwNCiAgICAgICAgICAgICAgICAgICAgJ2xhc3RfdXBkYXRlJyA9PiBbJ3ZhbHVlJyA9PiAkdGhpcy0+X2RhdGVUaW1lLT5nbXRUaW1lc3RhbXAoKV0NCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICBdDQogICAgICAgIF07DQoNCiAgICAgICAgLyoqIEB2YXIgXE1hZ2VudG9cQ29uZmlnXE1vZGVsXENvbmZpZyAkY29uZmlnICovDQogICAgICAgICRjb25maWcgPSAkdGhpcy0+X29iamVjdE1hbmFnZXItPmNyZWF0ZSgnTWFnZW50b1xDb25maWdcTW9kZWxcQ29uZmlnJyk7DQoNCiAgICAgICAgJGNvbmZpZy0+c2V0U2VjdGlvbignZ29tYWdlX25vdGlmaWNhdGlvbicpDQogICAgICAgICAgICAtPnNldEdyb3VwcygkZ3JvdXBzKQ0KICAgICAgICAgICAgLT5zYXZlKCk7DQoNCiAgICB9DQoNCn0="));
